import CNTest
import CNPair
import EGTypes
import EGFigure
import EGCollisions

class EGCollisionsTest extends CNTestCase {
    def testDavidsStar {
        val figures = [
            (1, EGPolygon([EGPoint(1, 0), EGPoint(3, 2), EGPoint(5, 0)])),
            (2, EGPolygon([EGPoint(1, 1), EGPoint(5, 1), EGPoint(3, -1)])),
            (3, EGPolygon([EGPoint(4, -1), EGPoint(4.5, -0.5), EGPoint(5, -1)]))
        ]
        val collisions = EGCollisions.collisionsFor(figures)
        assertEquals(collisions, [EGCollision(CNPair(1, 2), [
            EGPoint(1.5, 0.5), EGPoint(2, 0), EGPoint(2, 1),
            EGPoint(4.5, 0.5), EGPoint(4, 0), EGPoint(4, 1)
        ].toSet)].toSet)
    }
}
