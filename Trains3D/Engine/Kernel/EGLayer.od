import EGTypes
import EGProcessor
import EG
import EGContext

class EGLayer(view : EGView, processor : EGProcessor?) {
    def drawWith(viewSize : EGSize) {
        view.camera.focusFor(viewSize)
        EG.context.environment = view.environment
        view.drawView
    }

    def process(event : EGEvent) : bool = {
        val cameraEvent = event.set(camera = view.camera)
        processor.map(_.process(cameraEvent)).getOr(false)
    }
}