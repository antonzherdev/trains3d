import EGTypes
import EGMap
import EGSchedule

import TRColor
import TRTypes
import TRRailPoint

enum TRCityAngle(angle : int, form : TRRailForm, back : bool) {
    angle0(0, TRRailForm.leftRight, false)
    angle90(90, TRRailForm.bottomTop, true)
    angle180(180, TRRailForm.leftRight, true)
    angle270(270, TRRailForm.bottomTop, false)
}

/*
 * angle - поворот по часовой стрелке. При 0 город направлен по оси x в положительном направлении
 */
class TRCity(color : TRColor, tile : EGPointI, angle : TRCityAngle) extends EGController {
    def startPoint = TRRailPoint(tile, angle.form, 0, angle.back)

    var expectedTrainAnimation : EGAnimation?

    def updateWith(delta : float) {
        expectedTrainAnimation.for(_.updateWith(delta))
    }
}