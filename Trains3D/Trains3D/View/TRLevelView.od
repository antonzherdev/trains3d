import EGTypes
import EGCameraIso
import EG
import EGGL
import EGMapIso

import TRLevel
import TRLevelBackgroundView
import TRCityView
import TRRailroadView
import TRTrainView

class TRLevelView(level : TRLevel) extends EGView {
    private val backgroundView = TRLevelBackgroundView
    private val cityView = TRCityView.new
    private val railroadView = TRRailroadView.new
    private val trainView = TRTrainView.new

    def drawView {
        backgroundView.draw(level)
        level.cities.for(city -> cityView.draw(city))
        railroadView.draw(level.railroad)
        level.trains.for(train -> trainView.draw(train))

        egColor3(1.0, 1.0, 1.0)
        level.map.drawLayout
    }

    val camera : EGCamera = EGCameraIso(level.map.size, EGPoint(0, 0))
}